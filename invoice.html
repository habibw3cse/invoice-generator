<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Invoice</title>
<link rel="icon" href="favicon.ico" type="image/x-icon">

<style>
*{ box-sizing:border-box; }

body{
    font-family:"Segoe UI", Arial, sans-serif;
    background:#eef1f5;
    padding:30px;
}

/* WATERMARK */
.watermark-text{
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(-30deg);
    font-size: 120px;
    font-weight: 800;
    color: #000;
    opacity: 0.05;
    letter-spacing: 10px;
    pointer-events: none;
}

/* INVOICE BOX */
.invoice-box{
    max-width:1000px;
    margin:auto;
    background:#fff;
    padding:35px;
    border-radius:6px;
    box-shadow:0 0 15px rgba(0,0,0,.08);
}

/* HEADER */
.company-header{
    display:flex;
    justify-content:space-between;
    border-bottom:3px solid #2c3e50;
    padding-bottom:20px;
    margin-bottom:25px;
}
.logo{ width:150px; }

/* INFO ROW */
.info-row{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:30px;
    margin-bottom:25px;
}
.invoice-info table{
    width:100%;
    border-collapse:collapse;
    border:2px solid #2c3e50;
}
.invoice-info td{
    padding:6px;
    border:1px solid #2c3e50;
}

/* INPUTS */
input, textarea{
    width:100%;
    padding:6px;
    border:1px solid #777;
    font-size:14px;
    border-radius:3px;
    font-family:"Segoe UI", Arial, sans-serif;
}
textarea{
    min-height:60px;
    resize:vertical;
    font-style:italic;
}

/* MAIN TABLE */
table{
    width:100%;
    border-collapse:collapse;
    border:3px solid #2c3e50;
}
th{
    background:#2c3e50;
    color:#fff;
    padding:10px;
    text-align:center;
}
td{
    padding:8px;
    border:2px solid #2c3e50;
    vertical-align:top;
}

/* currency display */
.currency{
    display:flex;
    align-items:center;
    gap:4px;
}
.currency span{
    font-weight:bold;
}

/* BUTTONS */
button{
    padding:8px 14px;
    background:#2c3e50;
    color:#fff;
    border:none;
    border-radius:3px;
    cursor:pointer;
}
.remove-btn{ background:#c0392b; }

/* PRINT */
@media print{
    th.action-col,
    td.action-col{ display:none!important; }

    col.action-col{ width:0!important; }

    button{ display:none!important; }

    input, textarea{ border:none; }

    body{ background:#fff; }
}
</style>
</head>

<body>

<div class="watermark-text">HTM</div>

<div class="invoice-box">

<!-- HEADER -->
<div class="company-header">
    <div>
        <p><strong>HTM Technology</strong></p>
        <p>Halishahar R/A, Sonali Tower, 6th Floor</p>
        <p>Email: htmtechnologyltd@gmail.com</p>
        <p>Cell: +8801820189876</p>
    </div>
    <img src="htm.png" class="logo">
</div>

<!-- INFO -->
<div class="info-row">
    <div>
        <h4>Billed To</h4>
        <input placeholder="Customer Name"><br><br>
        <input placeholder="Customer Address"><br><br>
        <input placeholder="Customer Phone">
    </div>

    <div class="invoice-info">
        <h4>Invoice Details</h4>
        <table>
            <tr><td><strong>Invoice No</strong></td><td id="invoiceNo"></td></tr>
            <tr><td><strong>Bill Date</strong></td><td><input type="date" id="billDate"></td></tr>
            <tr><td><strong>Due Date</strong></td><td><input type="date" id="dueDate"></td></tr>
        </table>
    </div>
</div>

<!-- ITEMS TABLE -->
<table id="invoiceTable">
<colgroup>
    <col style="width:7%">
    <col style="width:45%">
    <col style="width:12%">
    <col style="width:12%">
    <col style="width:17%">
    <col class="action-col" style="width:7%">
</colgroup>
<thead>
<tr>
    <th>#</th>
    <th>Description</th>
    <th>Price (৳)</th>
    <th>Qty</th>
    <th>Total (৳)</th>
    <th class="action-col">Action</th>
</tr>
</thead>
<tbody>
<tr>
    <td class="sl" style="text-align:center">1</td>
    <td><textarea placeholder="Item description"></textarea></td>

    <td>
        <div class="currency">
            <span>৳</span>
            <input type="number" class="price" oninput="calc()">
        </div>
    </td>

    <td><input type="number" class="qty" oninput="calc()"></td>

    <td>
        <div class="currency">
            <span>৳</span>
            <input class="row-total" readonly>
        </div>
    </td>

    <td class="action-col" style="text-align:center">
        <button class="remove-btn" onclick="removeRow(this)">X</button>
    </td>
</tr>
</tbody>
</table>

<br>
<button onclick="addRow()">➕ Add New Row</button>

<!-- TOTAL + NOTE -->
<table style="margin-top:20px">
<tr>
    <td style="width:55%">
        <textarea>This is software generated bill

Thank you for your cooperation.</textarea>
    </td>
    <td style="width:45%">
        <table>
            <tr>
                <td><strong>Grand Total</strong></td>
                <td><strong>৳ <span id="grandTotal"></span></strong></td>
            </tr>
            <tr>
                <td colspan="2" id="grandWords"></td>
            </tr>
        </table>
    </td>
</tr>
</table>

<div style="margin-top:30px;text-align:center">
    <button onclick="window.print()">Print Invoice</button>
</div>

</div>

<script>
function pad(n){ return n.toString().padStart(2,'0'); }

function generateInvoiceNo(){
    const d=new Date();
    return `${d.getFullYear()}-${pad(d.getMonth()+1)}${pad(d.getDate())}-${pad(d.getHours())}${pad(d.getMinutes())}${pad(d.getSeconds())}`;
}

window.onload=function(){
    invoiceNo.textContent=generateInvoiceNo();
    const t=new Date();
    billDate.value=t.toISOString().split('T')[0];
    t.setDate(t.getDate()+7);
    dueDate.value=t.toISOString().split('T')[0];
}

/* NUMBER TO WORDS WITH PAISA */
function numberToWords(amount){
    const ones=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten",
                "Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"];
    const tens=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];

    function convert(n){
        if(n<20) return ones[n];
        if(n<100) return tens[Math.floor(n/10)] + (n%10?" "+ones[n%10]:"");
        if(n<1000) return ones[Math.floor(n/100)]+" Hundred"+(n%100?" "+convert(n%100):"");
        if(n<1000000) return convert(Math.floor(n/1000))+" Thousand"+(n%1000?" "+convert(n%1000):"");
        return "";
    }

    let taka = Math.floor(amount);
    let paisa = Math.round((amount - taka) * 100);

    let words = convert(taka) + " Taka";
    if(paisa > 0) words += " and " + convert(paisa) + " Paisa";

    return words + " Only";
}

function addRow(){
    let r=invoiceTable.tBodies[0].insertRow();
    r.innerHTML=`
    <td class="sl"></td>
    <td><textarea placeholder="Item description"></textarea></td>
    <td><div class="currency"><span>৳</span><input type="number" class="price" oninput="calc()"></div></td>
    <td><input type="number" class="qty" oninput="calc()"></td>
    <td><div class="currency"><span>৳</span><input class="row-total" readonly></div></td>
    <td class="action-col"><button class="remove-btn" onclick="removeRow(this)">X</button></td>`;
    updateSerial();
}

function removeRow(btn){
    btn.closest("tr").remove();
    updateSerial();
    calc();
}

function updateSerial(){
    document.querySelectorAll(".sl").forEach((s,i)=>s.textContent=i+1);
}

function calc(){
    let total=0;
    document.querySelectorAll(".price").forEach((p,i)=>{
        const q=document.querySelectorAll(".qty")[i].value||0;
        const t=p.value*q;
        document.querySelectorAll(".row-total")[i].value=t.toFixed(2);
        total+=t;
    });

    grandTotal.textContent = total.toFixed(2);
    grandWords.textContent = "In Words: " + numberToWords(total);
}
</script>

</body>
</html>
